<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    Source Text <br />
    <textarea name="copyTxt" rows="3" cols="50">Hello World</textarea>

    <button class="moverBtn">Move Text</button>
    <button class="copyBtn">Copy Text</button><br />
    <textarea name="finalTxt" rows="3" cols="50"></textarea>
    <div class="output"></div>
    <script>
      const copyTxt = document.querySelector("textarea[name=copyTxt]");
      const finalTxt = document.querySelector("textarea[name=finalTxt]");
      const moverBtn = document.querySelector(".moverBtn");
      const copyBtn = document.querySelector(".copyBtn");
      const output = document.querySelector(".output");

      moverBtn.addEventListener("click", moveText);
      copyBtn.addEventListener("click", copyText);
      finalTxt.addEventListener("click", selectAll);
      copyTxt.addEventListener("click", selectAll);

      function copyText() {
        let temp = copyTxt.value;
        copytoClipBoard(temp);
      }

      function copytoClipBoard(str) {
        const textarea = document.createElement("textarea");
        textarea.value = str;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand("copy");
        document.body.removeChild(textarea);
        output.innerHTML = "<h3> Copied Content</h3>" + textarea.value;
        console.log(textarea);
      }

      function moveText() {
        let temp = copyTxt.value;
        finalTxt.value = temp;
      }

      function selectAll() {
        this.select(); // Select all of the text value inside the element
        document.execCommand("copy"); // Copy value of element into the clipboard
        // https://stackoverflow.com/questions/6969403/why-is-document-execcommandpaste-not-working-in-google-chrome
      }
    </script>
  </body>
</html>
